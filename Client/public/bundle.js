(()=>{"use strict";const e=()=>document.createElement("label"),t=()=>document.createElement("input"),n=()=>document.createElement("button"),d=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),a=(e,t)=>{e.innerHTML="";const{username:n,password:a,accounts:s}=t,o=document.createElement("h1");o.innerText=`Greetings ${n}!`;const r=document.createElement("ul");s.forEach((t=>{const n=document.createElement("li");n.innerText=`${t.accountId} ${t.type} - ${d.format(t.balance)}`,n.addEventListener("click",(()=>{((e,t)=>{e.innerHTML="",console.log(t)})(e,t)})),r.appendChild(n)})),e.appendChild(o),e.appendChild(r)},s=d=>{d.innerHTML="";const s=document.createElement("form"),o=document.createElement("div"),r=e();r.innerText="Username",r.for="username";const c=t();c.type="text",c.name="username",c.placeholder="Enter Username",c.required=!0;const i=e();i.innerText="Password",i.for="password";const l=t();l.type="password",l.name="password",l.placeholder="Enter Password",l.required=!0;const m=n();m.type="submit",m.innerText="Login",s.addEventListener("submit",(e=>{!async function(e,t){e.preventDefault();let n=new FormData(e.currentTarget);n=Object.fromEntries(n.entries());try{const e=await fetch("http://localhost:7000/customer/login",{method:"POST",body:JSON.stringify(n)});if(!e.ok){const t=await e.json();return void console.log(t)}const d=await e.json();console.log(d),a(t,d)}catch(e){console.error(e)}}(e,d)})),o.appendChild(r),o.appendChild(c),o.appendChild(i),o.appendChild(l),o.appendChild(m),s.appendChild(o),d.appendChild(s)};(e=>{e.innerHTML="";const t=document.createElement("div"),n=document.createElement("div"),d=document.createElement("div"),a=document.createElement("div");t.classList.add("gradient-background"),n.classList.add("d-flex","align-items-center","height-85vh"),d.classList.add("container","mt-lg-8"),a.classList.add("row","justify-content-between","align-items-center");const o=document.createElement("div"),r=document.createElement("span");r.innerText="join bank app";const c=document.createElement("h1");c.innerText="Banking service that works for you",o.classList.add("col-lg-5","mb-0"),r.classList.add("d-block","text-white","text-uppercase","mb-2"),c.classList.add("display-4","text-white");const i=document.createElement("div"),l=document.createElement("div"),m=document.createElement("form"),p=document.createElement("div"),u=document.createElement("h2");u.innerText="Sign up for online banking",i.classList.add("col-lg-5"),l.classList.add("bg-white","shadow-sm","rounded","p-6"),p.classList.add("mb-4"),u.classList.add("h4");const h=document.createElement("div"),E=document.createElement("div"),f=document.createElement("input");f.type="text",f.name="username",f.required=!0,f.placeholder="Enter your username",f.classList.add("form-control","form__input"),h.classList.add("js-form-message","mb-3"),E.classList.add("js-focus-state","input-group","form"),E.appendChild(f),h.appendChild(E);const g=document.createElement("div"),C=document.createElement("div"),L=document.createElement("input");L.type="password",L.name="password",L.required=!0,L.placeholder="Enter your password",L.classList.add("form-control","form__input"),g.classList.add("js-form-message","mb-3"),C.classList.add("js-focus-state","input-group","form"),C.appendChild(L),g.appendChild(C);const w=document.createElement("div"),b=document.createElement("div"),y=document.createElement("input");y.type="password",y.name="confirmPassword",y.required=!0,y.placeholder="Reenter Password",y.classList.add("form-control","form__input"),w.classList.add("js-form-message","mb-3"),b.classList.add("js-focus-state","input-group","form"),b.appendChild(y),w.appendChild(b);const v=document.createElement("button");v.type="submit",v.innerText="Get Started",v.classList.add("btn","btn-block","btn-primary");const x=document.createElement("div");x.classList.add("text-center","w-100");const T=document.createElement("p");T.innerText="Already registered?",T.classList.add("text-muted","font-weight-bold");const j=document.createElement("a");j.innerText="Login",j.href="#",j.classList.add("text-primary","ml-2"),j.addEventListener("click",(()=>{s(e)})),x.appendChild(T),x.appendChild(j),m.addEventListener("submit",(t=>{!function(e,t){e.preventDefault();let n=new FormData(e.currentTarget);if(n=Object.fromEntries(n.entries()),console.log(n),(d=n).password===d.confirmPassword){const{username:e,password:d}=n;n={username:e,password:d},async function(e,t){try{const n=await fetch("http://localhost:7000/customer",{method:"POST",body:JSON.stringify(e)});if(!n.ok)return void console.log(n.status+" "+n);await n,s(t)}catch(e){console.error(e)}}(n,t)}else console.log(n);var d}(t,e)})),p.appendChild(u),m.appendChild(p),m.appendChild(h),m.appendChild(g),m.appendChild(w),m.appendChild(v),m.appendChild(x),l.appendChild(m),i.appendChild(l),o.appendChild(r),o.appendChild(c),a.appendChild(o),a.appendChild(i),d.appendChild(a),n.appendChild(d),t.appendChild(n),e.appendChild(t)})(document.getElementById("content"))})();