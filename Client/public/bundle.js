(()=>{"use strict";const t=document.getElementById("registerForm"),e=document.getElementById("loginForm");t.addEventListener("submit",(t=>{!function(t,e){t.preventDefault();let n=new FormData(t.currentTarget);if(n=Object.fromEntries(n.entries()),(o=n).password===o.confirmPassword){const{username:t,password:e}=n;n={username:t,password:e,type:"Customer"},async function(t){try{const e=await fetch("http://localhost:7000/customer",{method:"POST",body:JSON.stringify(t)});if(!e.ok)return void console.log(e.status+" "+e);const n=await e.json();document.getElementById("successMsg").innerHTML=n}catch(t){console.error(t)}}(n)}else document.getElementById("successMsg").innerText="Passwords Must Match!";var o}(t)})),e.addEventListener("submit",(t=>{!async function(t){t.preventDefault();let e=new FormData(t.currentTarget);e=Object.fromEntries(e.entries());try{const t=await fetch("http://localhost:7000/customer/login",{method:"POST",body:JSON.stringify(e)});if(!t.ok){const e=await t.json();return void(document.getElementById("errorMsg").innerText=`${e}`)}const n=await t.json();localStorage.setItem("user",JSON.stringify(n)),window.location.replace("http://127.0.0.1:5500/public/customer.html")}catch(t){console.error(t)}}(t)}))})();