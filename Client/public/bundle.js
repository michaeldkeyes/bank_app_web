(()=>{"use strict";const t=document.getElementById("registerForm"),e=document.getElementById("loginForm");t.addEventListener("submit",(t=>{!function(t,e){t.preventDefault();let o=new FormData(t.currentTarget);if(o=Object.fromEntries(o.entries()),console.log(o),(r=o).password===r.confirmPassword){const{username:t,password:e}=o;o={username:t,password:e},async function(t){try{const e=await fetch("http://localhost:7000/customer",{method:"POST",body:JSON.stringify(t)});if(!e.ok)return void console.log(e.status+" "+e);await e}catch(t){console.error(t)}}(o)}else console.log(o);var r}(t)})),e.addEventListener("submit",(t=>{!async function(t){t.preventDefault();let e=new FormData(t.currentTarget);e=Object.fromEntries(e.entries());try{const t=await fetch("http://localhost:7000/customer/login",{method:"POST",body:JSON.stringify(e)});if(!t.ok){const e=await t.json();return void console.log(e)}const o=await t.json();localStorage.setItem("user",JSON.stringify(o));const r=JSON.parse(localStorage.getItem("user"));console.log(r)}catch(t){console.error(t)}}(t)}))})();